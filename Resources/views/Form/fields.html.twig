{% block sidus_resource_widget %}
    {% set file = form.vars.data %}
    <div class="fileupload-widget">
        <input type="hidden" {{ block('widget_attributes') }} {% if value is not empty %}value="{{ value }}" {% endif %}/>
        <span class="btn btn-labeled btn-info fileupload-button{% if form.vars.disabled or file %} disabled{% endif %}">
            <span class="btn-label icon fa fa-plus"></span>
            {{ 'sidus.file_upload.action.upload.label'|trans }}
            {% if not form.vars.disabled %}
                <input type="file" data-url="{{ oneup_uploader_endpoint(form.vars.endpoint) }}"
                       id="{{ id }}_upload"
                       data-maxsize="{{ oneup_uploader_maxsize(form.vars.endpoint) }}">
            {% endif %}
        </span>
        <a href="{{ file ? resource_path(file) }}" target="_blank" class="btn btn-default fileupload-file"
           {% if not file %}style="display: none"{% endif %}>
            {% if not form.vars.disabled %}
                <button class="close" type="button">Ã—</button>
            {% endif %}
            <span class="fileupload-filename">{{ file ? file.originalFileName }}</span>
        </a>
        <br>
        <div class="progress" style="display: none; height:2px">
            <div class="progress-bar"></div>
        </div>
        <div class="alert alert-danger" style="display:none;"></div>
    </div>
{% endblock %}
